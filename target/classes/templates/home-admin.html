<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg bg-nav rounded">
        <th:block th:include="~{/fragments/nav}"></th:block>
    </nav>
</header>
<main>


    <div th:class="${search}" th:object="${search}" class="container bg-blur rounded mt-5 mb-4">

        <div class="row">
            <th:block th:if="${#lists.isEmpty(search)}">
                <div class=" rounded bg-blurForHome1" style=" overflow: auto">
                    <h3 class="mySticky rounded text-center">All users</h3>
                    <div th:each="u : ${users}" class="mt-3 rounded allUsers">
                        <span class="text-center" th:value="${u.username}"
                              th:utext="|Full Name: ${u.fullName}| + '<br/>' + |Usename: ${u.username}| + '<br/>' + |Email: ${u.email}|"></span>
                        <a class="ml-3UsersNew btnForListing" th:href="@{/users/details/(id = ${u.getId()})}">View Services</a>
                    </div>
                </div>
            </th:block>
            <th:block th:unless="${#lists.isEmpty(search)}">
                <div class="rounded bg-blurForHome1" style="overflow: auto">
                    <h3 class="mySticky rounded text-center"
                        th:utext="|Search results for &#39${searchUsername}&#39|"></h3>
                    <div th:each="u : ${search}" class="mt-3 rounded allUsers">
                        <span th:value="${u.username}"
                              th:utext="|Full Name: ${u.fullName}| + '<br/>' + |Usename: ${u.username}| + '<br/>' + |Email: ${u.email}|"></span>
                        <a class="ml-3UsersNew btnForListing" th:href="@{/users/details/(id = ${u.getId()})}">View Services</a>
                    </div>
                </div>
            </th:block>


            <div th:object="${services}" class=" bg-blurForHome2 rounded m-auto"
                 style="overflow: auto">
                <h3 class="mySticky rounded">Services</h3>
                <div class="col-5ServicesCateg rounded mt-2" style=" overflow: auto">

                    <h3 class="myStickyCategories rounded mt-3New">Call Minutes</h3>
                    <th:block th:each="s : ${services}">
                        <div th:if="${s.getCategory().name().equals('CALL_MINUTES')}"
                             class="allServices rounded mt-2 text-left">
                            <span th:utext="|Service Name: ${s.name}| + '<br/>' + |Description: ${s.description}| + '<br/>' + |Price: ${s.price}&#036|"></span>
                            <a class="ml-3ServicesNew btnForListing" th:href="@{/services/delete/(id = ${s.getId()})}">Delete</a>
                        </div>
                    </th:block>

                    <h3 class="myStickyCategories rounded mt-3New">SMS</h3>
                    <th:block th:each="s : ${services}">
                        <div th:if="${s.getCategory().name().equals('SMS')}" class="allServices rounded mt-2 text-left">
                            <span th:utext="|Service Name: ${s.name}| + '<br/>' + |Description: ${s.description}| + '<br/>' + |Price: ${s.price}&#036|"></span>
                            <a class="ml-3ServicesNew btnForListing" th:href="@{/services/delete/(id = ${s.getId()})}">Delete</a>
                        </div>
                    </th:block>


                    <h3 class="myStickyCategories rounded mt-3New">Internet Megabytes</h3>
                    <th:block th:each="s : ${services}">
                        <div th:if="${s.getCategory().name().equals('INTERNET_MEGABYTES')}"
                             class="allServices rounded mt-2 text-left">
                            <span th:utext="|Service Name: ${s.name}| + '<br/>' + |Description: ${s.description}| + '<br/>' + |Price: ${s.price}&#036|"></span>
                            <a class="ml-3ServicesNew btnForListing" th:href="@{/services/delete/(id = ${s.getId()})}">Delete</a>
                        </div>
                    </th:block>
                </div>
            </div>
        </div>

        <!--        <a th:href="@{/services/create}" class="btn btn-danger">Add new mobile service</a>-->
        <!--        <a href="/" class="btn btn-danger">Add user</a>-->
    </div>
</main>
<footer class="footer bg-transparent  py-2">
    <th:block th:include="~{/fragments/footer}"></th:block>
</footer>
</body>
</html>
